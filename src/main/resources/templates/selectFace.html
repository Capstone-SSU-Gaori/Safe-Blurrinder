<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Safe Blurrinder</title>
    <link rel="stylesheet" href="css/selectFace.css">

    <script src="https://code.jquery.com/jquery-3.6.0.js"></script>

</head>

<body>
<div class="inner">
    <header>
        <h1>Safe Blurrinder</h1>
    </header>

    <div class="mainBox">
        <div class="topBox">
            <h2>블러 처리에서 제외할 인물을 선택하세요</h2>
        </div>
        <div class="middleBox">
            <div class="leftBox" id="leftBox">
                <th>Processed Video </th>
                <!--        ${} : 모델 안에 있는 값을 꺼내는 것 -->
                <td th:text="${cropImages}"></td>
            </div>
        </div>
        <div class="bottomBox">
            <p onclick="" class="submitButton">선택 완료</p>
        </div>
    </div>
</div>

<script type="text/javascript">
    var cropImages = "${cropImages}";
    console.log(cropImages);
    var cropImagesObj = JSON.parse(cropImages);
<!--    console.log(-->
    console.log(cropImages[0]);
    const imageCount = cropImages.length; // image 개수
    var images = new Array(imageCount); //이미지들
    var imageClick=new Array(imageCount); //클릭했는지
    for (var i = 0; i < imageCount; i++) {
        images[i] = new Image();
<!--        images[i].src = cropImages.i+1-->
<!--        images[i].src = "images/videoIcon.png"; //여기서 이미지 넣는데 어떻게 넣어야 하지-->
        images[i].src = cropImages[i].i+1; //여기서 이미지 넣는데 어떻게 넣어야 하지

        images[i].id=i.toString();
        document.getElementById("leftBox").appendChild(images[i]);
        imageClick[i]=0;
    }


    $(function () { //클릭하는 부분
        $("img").mousedown(function () {
        })
            .click(function () {
                if (imageClick[$(this).attr("id")] == 1) {
                    imageClick[$(this).attr("id")] = 0;
                    document.getElementById($(this).attr("id")).style.outline = "none";
                } else {
                    imageClick[$(this).attr("id")] = 1;
                    document.getElementById($(this).attr("id")).style.outline = "solid 4px #6881D0";
                }

            })
            .mouseover(function() {
                document.getElementById($(this).attr("id")).style.outline = "solid 4px #6881D0";
            })
            .mouseleave(function() {
                if(imageClick[$(this).attr("id")] == 0)
                    document.getElementById($(this).attr("id")).style.outline = "none";
            })
    });


</script>

</body>

</html>
